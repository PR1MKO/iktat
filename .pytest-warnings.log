============================= test session starts =============================
platform win32 -- Python 3.10.11, pytest-7.4.2, pluggy-1.6.0 -- C:\Users\kiss.istvan3\AppData\Local\Programs\Python\Python310\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\kiss.istvan3\Desktop\folyamatok\IKTATAS2.0\forensic-case-tracker
plugins: anyio-4.9.0, flask-1.3.0, xdist-3.5.0
collecting ... collected 108 items

tests/test_admin_default_leiro.py::test_add_expert_requires_default_leiro PASSED
tests/test_admin_default_leiro.py::test_add_expert_persists_default_leiro PASSED
tests/test_admin_default_leiro.py::test_add_non_expert_ignores_default_leiro PASSED
tests/test_admin_default_leiro.py::test_edit_expert_updates_default_leiro PASSED
tests/test_admin_full_name.py::test_add_user_with_full_name PASSED
tests/test_admin_full_name.py::test_edit_user_updates_full_name PASSED
tests/test_app_loads.py::test_app_starts PASSED
tests/test_auth_routes.py::test_login_form_renders PASSED
tests/test_auth_routes.py::test_login_success PASSED
tests/test_auth_routes.py::test_login_wrong_password PASSED
tests/test_auth_routes.py::test_login_unknown_user PASSED
tests/test_auth_routes.py::test_logout_clears_session PASSED
tests/test_auth_routes.py::test_register_user_success PASSED
tests/test_auth_routes.py::test_register_missing_fields PASSED
tests/test_auth_routes.py::test_register_duplicate_username PASSED
tests/test_auth_routes.py::test_edit_user_dropdown_shown_for_szakerto PASSED
tests/test_auth_routes.py::test_edit_user_dropdown_not_shown_for_admin PASSED
tests/test_auth_routes.py::test_edit_user_sets_default_leiro PASSED
tests/test_basic.py::test_sanity PASSED
tests/test_case_number_format.py::test_new_case_number_format PASSED
tests/test_case_template_boncolas_copy.py::test_boncolas_templates_copied PASSED
tests/test_case_template_boncolas_copy.py::test_boncolas_missing_template_dir_warns PASSED
tests/test_case_template_boncolas_copy.py::test_init_case_dirs_idempotent PASSED
tests/test_certificate_generation.py::test_certificate_generation_success PASSED
tests/test_certificate_generation.py::test_certificate_generation_optional_fields_blank PASSED
tests/test_changelog_notes.py::test_note_changelog_records_incrementally PASSED
tests/test_changelog_notes.py::test_duplicate_note_entries_create_separate_logs PASSED
tests/test_changelog_orders.py::test_tox_order_changelog_records_incrementally PASSED
tests/test_core_models.py::test_user_creation_and_password PASSED
tests/test_core_models.py::test_user_roles PASSED
tests/test_core_models.py::test_case_creation_full PASSED
tests/test_core_models.py::test_case_defaults PASSED
tests/test_core_models.py::test_uploaded_file_association PASSED
tests/test_core_models.py::test_change_log_created_on_update PASSED
tests/test_csrf_track.py::test_track_route_csrf_exempt PASSED
tests/test_dashboard_assigned_investigations.py::test_assigned_investigation_visible_on_dashboard PASSED
tests/test_email_utils.py::test_send_email_handles_error PASSED
tests/test_feladataim_started.py::test_case_removed_from_feladataim_after_start PASSED
tests/test_investigation_forms.py::test_investigation_form_requires_identifier PASSED
tests/test_investigation_forms.py::test_investigation_form_with_identifier_valid PASSED
tests/test_investigation_forms.py::test_fmt_date_formats_date PASSED
tests/test_investigation_template_copy.py::test_investigation_templates_copied PASSED
tests/test_investigation_user_resolution.py::test_investigation_expert_name_display PASSED
tests/test_investigation_user_resolution.py::test_missing_expert_shows_dash PASSED
tests/test_investigations.py::test_investigation_db_isolation PASSED
tests/test_investigations.py::test_case_number_sequential_and_year_reset PASSED
tests/test_investigations.py::test_creation_requires_identifier PASSED
tests/test_investigations.py::test_creation_requires_mandatory_fields PASSED
tests/test_investigations.py::test_search_filters_across_fields[0001] PASSED
tests/test_investigations.py::test_search_filters_across_fields[EXT] PASSED
tests/test_investigations.py::test_search_filters_across_fields[OID] PASSED
tests/test_investigations.py::test_search_filters_across_fields[John] PASSED
tests/test_investigations.py::test_search_filters_across_fields[Smi] PASSED
tests/test_investigations.py::test_search_filters_across_fields[type1] PASSED
tests/test_investigations.py::test_search_filters_across_fields[Jane] PASSED
tests/test_investigations.py::test_search_filters_across_fields[Buda] PASSED
tests/test_investigations.py::test_search_filters_across_fields[1990] PASSED
tests/test_investigations.py::test_search_filters_across_fields[TAJ111] PASSED
tests/test_investigations.py::test_search_filters_across_fields[Address] PASSED
tests/test_investigations.py::test_search_filters_across_fields[Hungar] PASSED
tests/test_investigations.py::test_search_filters_across_fields[Clinic] PASSED
tests/test_investigations.py::test_upload_endpoint_stores_file PASSED
tests/test_investigations.py::test_note_creation PASSED
tests/test_investigations.py::test_permissions PASSED
tests/test_investigations.py::test_new_page_shows_assignment_fields PASSED
tests/test_investigations.py::test_post_intezeti_sets_no_expert PASSED
tests/test_investigations.py::test_post_szakertoi_requires_expert PASSED
tests/test_investigations.py::test_post_szakertoi_persists_expert PASSED
tests/test_models.py::test_create_user PASSED
tests/test_models.py::test_case_formatted_deadline_and_overdue PASSED
tests/test_paths_cases.py::test_default_case_root PASSED
tests/test_paths_cases.py::test_ensure_case_folder_creates PASSED
tests/test_paths_investigations.py::test_default_investigation_root PASSED
tests/test_paths_investigations.py::test_config_override_investigation_root PASSED
tests/test_paths_investigations.py::test_ensure_investigation_folder_creates PASSED
tests/test_rbac.py::test_protected_routes_require_login PASSED
tests/test_rbac.py::test_admin_access_admin_routes PASSED
tests/test_rbac.py::test_iroda_permissions PASSED
tests/test_rbac.py::test_szakerto_permissions PASSED
tests/test_rbac.py::test_toxi_permissions_and_dashboard_redirect PASSED
tests/test_rbac.py::test_toxi_dashboard_lists_cases PASSED
tests/test_sample.py::test_simple_math PASSED
tests/test_time_utils.py::test_append_note_uses_local_time PASSED
tests/test_time_utils.py::test_localtime_filter PASSED
tests/test_tox_doc_generation.py::test_tox_doc_generation_saves_and_registers PASSED
tests/test_tox_view_lock.py::test_tox_view_unlocks_editing PASSED
tests/test_vizsgalat_logging.py::test_empty_tox_field_is_logged PASSED
tests/test_vizsgalat_persistence.py::test_vizsgalat_orders_persist PASSED
tests/test_vizsgalat_roles.py::test_iroda_can_order_and_szakerto_sees_preselected PASSED
tests/test_vizsgalat_roles.py::test_create_and_edit_pages_show_button_for_iroda PASSED
tests/test_workflows.py::test_case_creation_success PASSED
tests/test_workflows.py::test_changelog_created_on_case_creation PASSED
tests/test_workflows.py::test_case_creation_missing_required PASSED
tests/test_workflows.py::test_get_new_case_form PASSED
tests/test_workflows.py::test_case_creation_requires_identifier PASSED
tests/test_workflows.py::test_file_upload_success PASSED
tests/test_workflows.py::test_upload_redirects_back_to_documents PASSED
tests/test_workflows.py::test_upload_requires_auth PASSED
tests/test_workflows.py::test_upload_blocked_for_finalized_case PASSED
tests/test_workflows.py::test_upload_large_file_blocked PASSED
tests/test_workflows.py::test_file_download_success PASSED
tests/test_workflows.py::test_file_download_not_found PASSED
tests/test_workflows.py::test_file_download_traversal_blocked PASSED
tests/test_workflows.py::test_elvegzem_does_not_auto_assign_describer_anymore PASSED
tests/test_workflows.py::test_elvegzem_keeps_existing_describer PASSED
tests/test_workflows.py::test_complete_expert_forbidden_for_non_expert PASSED
tests/test_workflows.py::test_complete_expert_allowed_for_expert PASSED
tests/test_workflows.py::test_complete_button_hidden_for_non_expert PASSED

============================== warnings summary ===============================
..\..\..\..\AppData\Local\Programs\Python\Python310\lib\site-packages\flask_wtf\recaptcha\widgets.py:2
  C:\Users\kiss.istvan3\AppData\Local\Programs\Python\Python310\lib\site-packages\flask_wtf\recaptcha\widgets.py:2: DeprecationWarning: 'flask.Markup' is deprecated and will be removed in Flask 2.4. Import 'markupsafe.Markup' instead.
    from flask import Markup

tests/test_admin_default_leiro.py: 4 warnings
tests/test_admin_full_name.py: 2 warnings
tests/test_auth_routes.py: 11 warnings
tests/test_case_number_format.py: 1 warning
tests/test_case_template_boncolas_copy.py: 3 warnings
tests/test_certificate_generation.py: 2 warnings
tests/test_changelog_notes.py: 2 warnings
tests/test_changelog_orders.py: 1 warning
tests/test_core_models.py: 6 warnings
tests/test_dashboard_assigned_investigations.py: 1 warning
tests/test_feladataim_started.py: 1 warning
tests/test_investigation_forms.py: 2 warnings
tests/test_investigation_template_copy.py: 1 warning
tests/test_investigation_user_resolution.py: 2 warnings
tests/test_investigations.py: 24 warnings
tests/test_models.py: 2 warnings
tests/test_paths_cases.py: 2 warnings
tests/test_paths_investigations.py: 3 warnings
tests/test_rbac.py: 6 warnings
tests/test_time_utils.py: 2 warnings
tests/test_tox_doc_generation.py: 1 warning
tests/test_tox_view_lock.py: 1 warning
tests/test_vizsgalat_logging.py: 1 warning
tests/test_vizsgalat_persistence.py: 1 warning
tests/test_vizsgalat_roles.py: 2 warnings
tests/test_workflows.py: 18 warnings
  C:\Users\kiss.istvan3\Desktop\folyamatok\IKTATAS2.0\forensic-case-tracker\tests\conftest.py:38: DeprecationWarning: 'get_engine' is deprecated and will be removed in Flask-SQLAlchemy 3.2. Use 'engine' or 'engines[key]' instead. If you're using Flask-Migrate or Alembic, you'll need to update your 'env.py' file.
    db.get_engine(app).dispose()

tests/test_admin_default_leiro.py: 4 warnings
tests/test_admin_full_name.py: 2 warnings
tests/test_auth_routes.py: 11 warnings
tests/test_case_number_format.py: 1 warning
tests/test_case_template_boncolas_copy.py: 3 warnings
tests/test_certificate_generation.py: 2 warnings
tests/test_changelog_notes.py: 2 warnings
tests/test_changelog_orders.py: 1 warning
tests/test_core_models.py: 6 warnings
tests/test_dashboard_assigned_investigations.py: 1 warning
tests/test_feladataim_started.py: 1 warning
tests/test_investigation_forms.py: 2 warnings
tests/test_investigation_template_copy.py: 1 warning
tests/test_investigation_user_resolution.py: 2 warnings
tests/test_investigations.py: 24 warnings
tests/test_models.py: 2 warnings
tests/test_paths_cases.py: 2 warnings
tests/test_paths_investigations.py: 3 warnings
tests/test_rbac.py: 6 warnings
tests/test_time_utils.py: 2 warnings
tests/test_tox_doc_generation.py: 1 warning
tests/test_tox_view_lock.py: 1 warning
tests/test_vizsgalat_logging.py: 1 warning
tests/test_vizsgalat_persistence.py: 1 warning
tests/test_vizsgalat_roles.py: 2 warnings
tests/test_workflows.py: 18 warnings
  C:\Users\kiss.istvan3\Desktop\folyamatok\IKTATAS2.0\forensic-case-tracker\tests\conftest.py:42: DeprecationWarning: 'get_engine' is deprecated and will be removed in Flask-SQLAlchemy 3.2. Use 'engine' or 'engines[key]' instead. If you're using Flask-Migrate or Alembic, you'll need to update your 'env.py' file.
    db.get_engine(app, bind="examination").dispose()

tests/test_admin_default_leiro.py: 4 warnings
tests/test_admin_full_name.py: 2 warnings
tests/test_auth_routes.py: 11 warnings
tests/test_case_number_format.py: 1 warning
tests/test_case_template_boncolas_copy.py: 3 warnings
tests/test_certificate_generation.py: 2 warnings
tests/test_changelog_notes.py: 2 warnings
tests/test_changelog_orders.py: 1 warning
tests/test_core_models.py: 6 warnings
tests/test_dashboard_assigned_investigations.py: 1 warning
tests/test_feladataim_started.py: 1 warning
tests/test_investigation_forms.py: 2 warnings
tests/test_investigation_template_copy.py: 1 warning
tests/test_investigation_user_resolution.py: 2 warnings
tests/test_investigations.py: 24 warnings
tests/test_models.py: 2 warnings
tests/test_paths_cases.py: 2 warnings
tests/test_paths_investigations.py: 3 warnings
tests/test_rbac.py: 6 warnings
tests/test_time_utils.py: 2 warnings
tests/test_tox_doc_generation.py: 1 warning
tests/test_tox_view_lock.py: 1 warning
tests/test_vizsgalat_logging.py: 1 warning
tests/test_vizsgalat_persistence.py: 1 warning
tests/test_vizsgalat_roles.py: 2 warnings
tests/test_workflows.py: 18 warnings
  C:\Users\kiss.istvan3\Desktop\folyamatok\IKTATAS2.0\forensic-case-tracker\tests\conftest.py:54: DeprecationWarning: 'get_engine' is deprecated and will be removed in Flask-SQLAlchemy 3.2. Use 'engine' or 'engines[key]' instead. If you're using Flask-Migrate or Alembic, you'll need to update your 'env.py' file.
    db.get_engine(app).dispose()

tests/test_investigations.py::test_upload_endpoint_stores_file
tests/test_investigations.py::test_note_creation
tests/test_investigations.py::test_permissions
tests/test_workflows.py::test_complete_expert_allowed_for_expert
  C:\Users\kiss.istvan3\AppData\Local\Programs\Python\Python310\lib\site-packages\flask_sqlalchemy\query.py:30: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    rv = self.get(ident)

tests/test_workflows.py::test_file_download_success
  C:\Users\kiss.istvan3\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\sql\type_api.py:863: ResourceWarning: unclosed file <_io.BufferedRandom name='C:\\Users\\KISS~1.IST\\AppData\\Local\\Temp\\tmp3_uy0rch'>
    tm = dialect._type_memos[self]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/test_workflows.py::test_file_download_success
  C:\Users\kiss.istvan3\AppData\Local\Programs\Python\Python310\lib\site-packages\_pytest\python.py:194: ResourceWarning: unclosed file <_io.BufferedReader name='C:\\Users\\kiss.istvan3\\Desktop\\folyamatok\\IKTATAS2.0\\forensic-case-tracker\\instance\\uploads_cases\\DL1/file.txt'>
    result = testfunction(**testargs)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
============================== slowest durations ==============================
1.79s call     tests/test_admin_default_leiro.py::test_edit_expert_updates_default_leiro
1.74s call     tests/test_investigations.py::test_permissions
1.44s call     tests/test_auth_routes.py::test_edit_user_sets_default_leiro
1.43s call     tests/test_admin_default_leiro.py::test_add_non_expert_ignores_default_leiro
1.42s call     tests/test_auth_routes.py::test_edit_user_dropdown_shown_for_szakerto
1.41s call     tests/test_admin_default_leiro.py::test_add_expert_persists_default_leiro
1.40s call     tests/test_auth_routes.py::test_register_user_success
1.40s call     tests/test_vizsgalat_roles.py::test_iroda_can_order_and_szakerto_sees_preselected
1.20s call     tests/test_tox_doc_generation.py::test_tox_doc_generation_saves_and_registers
1.14s call     tests/test_admin_full_name.py::test_edit_user_updates_full_name
1.12s call     tests/test_auth_routes.py::test_edit_user_dropdown_not_shown_for_admin
1.12s call     tests/test_admin_full_name.py::test_add_user_with_full_name
1.11s call     tests/test_admin_default_leiro.py::test_add_expert_requires_default_leiro
1.10s call     tests/test_auth_routes.py::test_register_duplicate_username
1.09s call     tests/test_investigations.py::test_post_szakertoi_persists_expert
1.07s call     tests/test_investigations.py::test_new_page_shows_assignment_fields
1.07s call     tests/test_vizsgalat_persistence.py::test_vizsgalat_orders_persist
1.07s call     tests/test_investigation_user_resolution.py::test_investigation_expert_name_display
1.05s call     tests/test_workflows.py::test_elvegzem_does_not_auto_assign_describer_anymore
1.05s call     tests/test_workflows.py::test_elvegzem_keeps_existing_describer
1.04s call     tests/test_investigations.py::test_post_szakertoi_requires_expert
1.04s call     tests/test_workflows.py::test_complete_button_hidden_for_non_expert
1.03s call     tests/test_investigations.py::test_post_intezeti_sets_no_expert
0.99s call     tests/test_core_models.py::test_user_creation_and_password
0.85s call     tests/test_feladataim_started.py::test_case_removed_from_feladataim_after_start
0.82s call     tests/test_rbac.py::test_iroda_permissions
0.82s call     tests/test_tox_view_lock.py::test_tox_view_unlocks_editing
0.79s call     tests/test_investigations.py::test_note_creation
0.79s call     tests/test_case_template_boncolas_copy.py::test_boncolas_templates_copied
0.79s call     tests/test_workflows.py::test_case_creation_requires_identifier
0.79s call     tests/test_rbac.py::test_szakerto_permissions
0.79s call     tests/test_vizsgalat_roles.py::test_create_and_edit_pages_show_button_for_iroda
0.79s call     tests/test_dashboard_assigned_investigations.py::test_assigned_investigation_visible_on_dashboard
0.77s call     tests/test_rbac.py::test_admin_access_admin_routes
0.76s call     tests/test_workflows.py::test_case_creation_missing_required
0.76s call     tests/test_workflows.py::test_get_new_case_form
0.75s call     tests/test_investigations.py::test_upload_endpoint_stores_file
0.75s call     tests/test_investigations.py::test_search_filters_across_fields[1990]
0.74s call     tests/test_certificate_generation.py::test_certificate_generation_success
0.74s call     tests/test_auth_routes.py::test_register_missing_fields
0.74s call     tests/test_rbac.py::test_toxi_permissions_and_dashboard_redirect
0.74s call     tests/test_investigations.py::test_search_filters_across_fields[0001]
0.73s call     tests/test_investigation_template_copy.py::test_investigation_templates_copied
0.73s call     tests/test_workflows.py::test_case_creation_success
0.73s call     tests/test_csrf_track.py::test_track_route_csrf_exempt
0.73s call     tests/test_rbac.py::test_toxi_dashboard_lists_cases
0.73s call     tests/test_certificate_generation.py::test_certificate_generation_optional_fields_blank
0.73s call     tests/test_investigations.py::test_search_filters_across_fields[Clinic]
0.72s call     tests/test_workflows.py::test_upload_blocked_for_finalized_case
0.72s call     tests/test_investigations.py::test_search_filters_across_fields[Smi]
0.72s call     tests/test_workflows.py::test_complete_expert_allowed_for_expert
0.72s call     tests/test_workflows.py::test_upload_large_file_blocked
0.72s call     tests/test_investigation_user_resolution.py::test_missing_expert_shows_dash
0.72s call     tests/test_case_template_boncolas_copy.py::test_init_case_dirs_idempotent
0.71s call     tests/test_workflows.py::test_file_upload_success
0.71s call     tests/test_workflows.py::test_complete_expert_forbidden_for_non_expert
0.71s call     tests/test_workflows.py::test_file_download_success
0.71s call     tests/test_case_template_boncolas_copy.py::test_boncolas_missing_template_dir_warns
0.71s call     tests/test_workflows.py::test_changelog_created_on_case_creation
0.71s call     tests/test_case_number_format.py::test_new_case_number_format
0.71s call     tests/test_workflows.py::test_file_download_not_found
0.71s call     tests/test_workflows.py::test_file_download_traversal_blocked
0.71s call     tests/test_workflows.py::test_upload_redirects_back_to_documents
0.70s call     tests/test_investigations.py::test_search_filters_across_fields[EXT]
0.70s call     tests/test_investigations.py::test_search_filters_across_fields[OID]
0.70s call     tests/test_investigations.py::test_search_filters_across_fields[Jane]
0.70s call     tests/test_investigations.py::test_search_filters_across_fields[Address]
0.70s call     tests/test_investigations.py::test_search_filters_across_fields[TAJ111]
0.70s call     tests/test_investigations.py::test_search_filters_across_fields[Hungar]
0.70s call     tests/test_vizsgalat_logging.py::test_empty_tox_field_is_logged
0.70s call     tests/test_investigations.py::test_search_filters_across_fields[Buda]
0.70s call     tests/test_investigations.py::test_search_filters_across_fields[John]
0.70s call     tests/test_investigations.py::test_search_filters_across_fields[type1]
0.69s call     tests/test_auth_routes.py::test_login_wrong_password
0.69s call     tests/test_auth_routes.py::test_logout_clears_session
0.68s call     tests/test_auth_routes.py::test_login_success
0.66s call     tests/test_core_models.py::test_user_roles
0.66s call     tests/test_models.py::test_create_user
0.35s call     tests/test_workflows.py::test_upload_requires_auth
0.21s setup    tests/test_workflows.py::test_upload_requires_auth
0.20s setup    tests/test_rbac.py::test_toxi_permissions_and_dashboard_redirect
0.20s setup    tests/test_investigations.py::test_creation_requires_mandatory_fields
0.18s setup    tests/test_vizsgalat_persistence.py::test_vizsgalat_orders_persist
0.18s setup    tests/test_dashboard_assigned_investigations.py::test_assigned_investigation_visible_on_dashboard
0.14s setup    tests/test_case_template_boncolas_copy.py::test_init_case_dirs_idempotent
0.13s setup    tests/test_investigations.py::test_search_filters_across_fields[Clinic]
0.13s setup    tests/test_investigations.py::test_post_szakertoi_requires_expert
0.13s setup    tests/test_investigations.py::test_investigation_db_isolation
0.12s setup    tests/test_time_utils.py::test_append_note_uses_local_time
0.12s setup    tests/test_investigations.py::test_post_szakertoi_persists_expert
0.12s setup    tests/test_workflows.py::test_file_download_traversal_blocked
0.12s setup    tests/test_core_models.py::test_change_log_created_on_update
0.12s setup    tests/test_paths_investigations.py::test_ensure_investigation_folder_creates
0.12s setup    tests/test_investigations.py::test_search_filters_across_fields[Hungar]
0.12s setup    tests/test_case_template_boncolas_copy.py::test_boncolas_missing_template_dir_warns
0.12s setup    tests/test_investigations.py::test_search_filters_across_fields[John]
0.12s setup    tests/test_investigations.py::test_search_filters_across_fields[Buda]
0.12s setup    tests/test_investigations.py::test_search_filters_across_fields[Address]
0.12s setup    tests/test_investigations.py::test_search_filters_across_fields[type1]
0.12s setup    tests/test_vizsgalat_roles.py::test_iroda_can_order_and_szakerto_sees_preselected
0.12s setup    tests/test_admin_default_leiro.py::test_edit_expert_updates_default_leiro
0.12s setup    tests/test_investigations.py::test_search_filters_across_fields[0001]
0.12s setup    tests/test_paths_cases.py::test_ensure_case_folder_creates
0.12s setup    tests/test_workflows.py::test_upload_large_file_blocked
0.12s setup    tests/test_workflows.py::test_case_creation_requires_identifier
0.12s setup    tests/test_core_models.py::test_user_creation_and_password
0.11s setup    tests/test_investigation_user_resolution.py::test_missing_expert_shows_dash
0.11s setup    tests/test_auth_routes.py::test_logout_clears_session
0.11s setup    tests/test_case_number_format.py::test_new_case_number_format
0.11s setup    tests/test_auth_routes.py::test_login_form_renders
0.11s setup    tests/test_admin_default_leiro.py::test_add_expert_persists_default_leiro
0.11s setup    tests/test_investigations.py::test_search_filters_across_fields[Jane]
0.11s setup    tests/test_workflows.py::test_file_upload_success
0.11s setup    tests/test_changelog_notes.py::test_note_changelog_records_incrementally
0.11s setup    tests/test_investigations.py::test_post_intezeti_sets_no_expert
0.11s setup    tests/test_workflows.py::test_upload_redirects_back_to_documents
0.11s setup    tests/test_models.py::test_create_user
0.11s setup    tests/test_vizsgalat_roles.py::test_create_and_edit_pages_show_button_for_iroda
0.11s setup    tests/test_investigations.py::test_search_filters_across_fields[OID]
0.11s setup    tests/test_paths_cases.py::test_default_case_root
0.11s setup    tests/test_investigation_forms.py::test_investigation_form_with_identifier_valid
0.11s setup    tests/test_rbac.py::test_toxi_dashboard_lists_cases
0.11s setup    tests/test_feladataim_started.py::test_case_removed_from_feladataim_after_start
0.11s setup    tests/test_changelog_orders.py::test_tox_order_changelog_records_incrementally
0.11s setup    tests/test_investigations.py::test_search_filters_across_fields[TAJ111]
0.11s setup    tests/test_auth_routes.py::test_edit_user_dropdown_shown_for_szakerto
0.11s setup    tests/test_workflows.py::test_complete_button_hidden_for_non_expert
0.11s setup    tests/test_auth_routes.py::test_register_user_success
0.11s setup    tests/test_workflows.py::test_case_creation_missing_required
0.11s setup    tests/test_workflows.py::test_file_download_not_found
0.11s setup    tests/test_investigations.py::test_search_filters_across_fields[1990]
0.11s setup    tests/test_workflows.py::test_complete_expert_forbidden_for_non_expert
0.11s setup    tests/test_investigations.py::test_permissions
0.11s setup    tests/test_workflows.py::test_complete_expert_allowed_for_expert
0.11s setup    tests/test_investigations.py::test_search_filters_across_fields[Smi]
0.11s setup    tests/test_workflows.py::test_elvegzem_keeps_existing_describer
0.11s setup    tests/test_changelog_notes.py::test_duplicate_note_entries_create_separate_logs
0.11s setup    tests/test_paths_investigations.py::test_config_override_investigation_root
0.11s setup    tests/test_investigations.py::test_search_filters_across_fields[EXT]
0.11s setup    tests/test_auth_routes.py::test_register_duplicate_username
0.11s setup    tests/test_workflows.py::test_get_new_case_form
0.11s setup    tests/test_rbac.py::test_iroda_permissions
0.11s setup    tests/test_rbac.py::test_szakerto_permissions
0.11s setup    tests/test_admin_full_name.py::test_add_user_with_full_name
0.11s setup    tests/test_models.py::test_case_formatted_deadline_and_overdue
0.11s setup    tests/test_workflows.py::test_case_creation_success
0.11s setup    tests/test_auth_routes.py::test_login_wrong_password
0.11s setup    tests/test_csrf_track.py::test_track_route_csrf_exempt
0.11s setup    tests/test_investigations.py::test_note_creation
0.11s setup    tests/test_auth_routes.py::test_register_missing_fields
0.10s setup    tests/test_core_models.py::test_case_creation_full
0.10s setup    tests/test_certificate_generation.py::test_certificate_generation_success
0.10s setup    tests/test_investigation_template_copy.py::test_investigation_templates_copied
0.10s setup    tests/test_investigations.py::test_case_number_sequential_and_year_reset
0.10s setup    tests/test_rbac.py::test_protected_routes_require_login
0.10s setup    tests/test_admin_full_name.py::test_edit_user_updates_full_name
0.10s setup    tests/test_core_models.py::test_uploaded_file_association
0.10s setup    tests/test_time_utils.py::test_localtime_filter
0.10s setup    tests/test_workflows.py::test_file_download_success
0.10s setup    tests/test_workflows.py::test_changelog_created_on_case_creation
0.10s setup    tests/test_investigations.py::test_creation_requires_identifier
0.10s setup    tests/test_investigations.py::test_upload_endpoint_stores_file
0.10s setup    tests/test_core_models.py::test_case_defaults
0.10s setup    tests/test_core_models.py::test_user_roles
0.10s setup    tests/test_case_template_boncolas_copy.py::test_boncolas_templates_copied
0.10s setup    tests/test_investigation_forms.py::test_investigation_form_requires_identifier
0.10s setup    tests/test_certificate_generation.py::test_certificate_generation_optional_fields_blank
0.10s setup    tests/test_admin_default_leiro.py::test_add_non_expert_ignores_default_leiro
0.10s setup    tests/test_workflows.py::test_upload_blocked_for_finalized_case
0.10s setup    tests/test_auth_routes.py::test_edit_user_dropdown_not_shown_for_admin
0.10s setup    tests/test_investigation_user_resolution.py::test_investigation_expert_name_display
0.10s setup    tests/test_vizsgalat_logging.py::test_empty_tox_field_is_logged
0.10s setup    tests/test_tox_doc_generation.py::test_tox_doc_generation_saves_and_registers
0.10s setup    tests/test_paths_investigations.py::test_default_investigation_root
0.10s setup    tests/test_auth_routes.py::test_login_unknown_user
0.10s setup    tests/test_investigations.py::test_new_page_shows_assignment_fields
0.10s setup    tests/test_tox_view_lock.py::test_tox_view_unlocks_editing
0.10s setup    tests/test_rbac.py::test_admin_access_admin_routes
0.10s setup    tests/test_auth_routes.py::test_edit_user_sets_default_leiro
0.09s setup    tests/test_auth_routes.py::test_login_success
0.09s setup    tests/test_workflows.py::test_elvegzem_does_not_auto_assign_describer_anymore
0.09s setup    tests/test_admin_default_leiro.py::test_add_expert_requires_default_leiro
0.07s teardown tests/test_auth_routes.py::test_edit_user_sets_default_leiro
0.07s teardown tests/test_case_template_boncolas_copy.py::test_boncolas_missing_template_dir_warns
0.06s teardown tests/test_workflows.py::test_case_creation_requires_identifier
0.06s teardown tests/test_core_models.py::test_user_creation_and_password
0.06s teardown tests/test_workflows.py::test_get_new_case_form
0.06s teardown tests/test_admin_default_leiro.py::test_add_non_expert_ignores_default_leiro
0.06s teardown tests/test_auth_routes.py::test_register_duplicate_username
0.05s teardown tests/test_investigations.py::test_search_filters_across_fields[Smi]
0.05s teardown tests/test_workflows.py::test_case_creation_missing_required
0.05s teardown tests/test_admin_full_name.py::test_add_user_with_full_name
0.05s teardown tests/test_admin_full_name.py::test_edit_user_updates_full_name
0.05s teardown tests/test_admin_default_leiro.py::test_add_expert_requires_default_leiro
0.05s teardown tests/test_dashboard_assigned_investigations.py::test_assigned_investigation_visible_on_dashboard
0.05s teardown tests/test_auth_routes.py::test_register_missing_fields
0.05s teardown tests/test_models.py::test_create_user
0.05s teardown tests/test_admin_default_leiro.py::test_edit_expert_updates_default_leiro
0.05s teardown tests/test_rbac.py::test_szakerto_permissions
0.05s teardown tests/test_auth_routes.py::test_register_user_success
0.05s teardown tests/test_time_utils.py::test_append_note_uses_local_time
0.05s teardown tests/test_auth_routes.py::test_edit_user_dropdown_shown_for_szakerto
0.05s teardown tests/test_investigations.py::test_post_intezeti_sets_no_expert
0.05s teardown tests/test_rbac.py::test_admin_access_admin_routes
0.05s teardown tests/test_admin_default_leiro.py::test_add_expert_persists_default_leiro
0.05s teardown tests/test_investigations.py::test_search_filters_across_fields[Jane]
0.05s teardown tests/test_paths_investigations.py::test_default_investigation_root
0.05s teardown tests/test_investigations.py::test_post_szakertoi_persists_expert
0.05s teardown tests/test_vizsgalat_roles.py::test_create_and_edit_pages_show_button_for_iroda
0.05s teardown tests/test_paths_cases.py::test_ensure_case_folder_creates
0.04s teardown tests/test_workflows.py::test_elvegzem_keeps_existing_describer
0.04s teardown tests/test_workflows.py::test_complete_button_hidden_for_non_expert
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[type1]
0.04s teardown tests/test_vizsgalat_roles.py::test_iroda_can_order_and_szakerto_sees_preselected
0.04s teardown tests/test_case_template_boncolas_copy.py::test_boncolas_templates_copied
0.04s teardown tests/test_changelog_notes.py::test_note_changelog_records_incrementally
0.04s teardown tests/test_certificate_generation.py::test_certificate_generation_optional_fields_blank
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[0001]
0.04s teardown tests/test_auth_routes.py::test_login_form_renders
0.04s teardown tests/test_auth_routes.py::test_login_wrong_password
0.04s teardown tests/test_workflows.py::test_file_download_success
0.04s teardown tests/test_auth_routes.py::test_login_success
0.04s teardown tests/test_models.py::test_case_formatted_deadline_and_overdue
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[John]
0.04s teardown tests/test_workflows.py::test_file_upload_success
0.04s teardown tests/test_investigations.py::test_note_creation
0.04s teardown tests/test_workflows.py::test_complete_expert_allowed_for_expert
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[Address]
0.04s teardown tests/test_changelog_notes.py::test_duplicate_note_entries_create_separate_logs
0.04s teardown tests/test_changelog_orders.py::test_tox_order_changelog_records_incrementally
0.04s teardown tests/test_auth_routes.py::test_logout_clears_session
0.04s teardown tests/test_workflows.py::test_upload_redirects_back_to_documents
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[TAJ111]
0.04s teardown tests/test_vizsgalat_persistence.py::test_vizsgalat_orders_persist
0.04s teardown tests/test_rbac.py::test_iroda_permissions
0.04s teardown tests/test_paths_cases.py::test_default_case_root
0.04s teardown tests/test_core_models.py::test_uploaded_file_association
0.04s teardown tests/test_vizsgalat_logging.py::test_empty_tox_field_is_logged
0.04s teardown tests/test_csrf_track.py::test_track_route_csrf_exempt
0.04s teardown tests/test_workflows.py::test_upload_requires_auth
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[OID]
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[EXT]
0.04s teardown tests/test_paths_investigations.py::test_config_override_investigation_root
0.04s teardown tests/test_certificate_generation.py::test_certificate_generation_success
0.04s teardown tests/test_paths_investigations.py::test_ensure_investigation_folder_creates
0.04s teardown tests/test_core_models.py::test_user_roles
0.04s teardown tests/test_investigation_forms.py::test_investigation_form_with_identifier_valid
0.04s teardown tests/test_investigations.py::test_post_szakertoi_requires_expert
0.04s teardown tests/test_investigations.py::test_permissions
0.04s teardown tests/test_workflows.py::test_file_download_not_found
0.04s teardown tests/test_workflows.py::test_elvegzem_does_not_auto_assign_describer_anymore
0.04s teardown tests/test_core_models.py::test_case_creation_full
0.04s teardown tests/test_investigation_forms.py::test_investigation_form_requires_identifier
0.04s teardown tests/test_workflows.py::test_upload_large_file_blocked
0.04s teardown tests/test_investigations.py::test_new_page_shows_assignment_fields
0.04s teardown tests/test_investigation_user_resolution.py::test_investigation_expert_name_display
0.04s teardown tests/test_workflows.py::test_changelog_created_on_case_creation
0.04s teardown tests/test_workflows.py::test_file_download_traversal_blocked
0.04s teardown tests/test_investigation_user_resolution.py::test_missing_expert_shows_dash
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[Buda]
0.04s teardown tests/test_rbac.py::test_toxi_permissions_and_dashboard_redirect
0.04s teardown tests/test_workflows.py::test_complete_expert_forbidden_for_non_expert
0.04s teardown tests/test_workflows.py::test_case_creation_success
0.04s teardown tests/test_investigations.py::test_creation_requires_mandatory_fields
0.04s teardown tests/test_investigation_template_copy.py::test_investigation_templates_copied
0.04s teardown tests/test_tox_view_lock.py::test_tox_view_unlocks_editing
0.04s teardown tests/test_investigations.py::test_case_number_sequential_and_year_reset
0.04s teardown tests/test_tox_doc_generation.py::test_tox_doc_generation_saves_and_registers
0.04s teardown tests/test_auth_routes.py::test_edit_user_dropdown_not_shown_for_admin
0.04s teardown tests/test_investigations.py::test_investigation_db_isolation
0.04s teardown tests/test_rbac.py::test_protected_routes_require_login
0.04s teardown tests/test_investigations.py::test_upload_endpoint_stores_file
0.04s teardown tests/test_case_template_boncolas_copy.py::test_init_case_dirs_idempotent
0.04s teardown tests/test_core_models.py::test_change_log_created_on_update
0.04s teardown tests/test_workflows.py::test_upload_blocked_for_finalized_case
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[1990]
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[Hungar]
0.04s teardown tests/test_feladataim_started.py::test_case_removed_from_feladataim_after_start
0.04s teardown tests/test_time_utils.py::test_localtime_filter
0.04s teardown tests/test_case_number_format.py::test_new_case_number_format
0.04s teardown tests/test_core_models.py::test_case_defaults
0.04s teardown tests/test_investigations.py::test_creation_requires_identifier
0.04s teardown tests/test_investigations.py::test_search_filters_across_fields[Clinic]
0.03s teardown tests/test_rbac.py::test_toxi_dashboard_lists_cases
0.03s teardown tests/test_auth_routes.py::test_login_unknown_user
0.03s call     tests/test_changelog_orders.py::test_tox_order_changelog_records_incrementally
0.03s call     tests/test_changelog_notes.py::test_note_changelog_records_incrementally
0.03s call     tests/test_email_utils.py::test_send_email_handles_error
0.03s call     tests/test_changelog_notes.py::test_duplicate_note_entries_create_separate_logs
0.02s call     tests/test_core_models.py::test_change_log_created_on_update
0.02s call     tests/test_app_loads.py::test_app_starts
0.02s call     tests/test_core_models.py::test_uploaded_file_association
0.02s call     tests/test_investigations.py::test_investigation_db_isolation
0.02s call     tests/test_time_utils.py::test_append_note_uses_local_time
0.02s call     tests/test_investigations.py::test_case_number_sequential_and_year_reset
0.02s call     tests/test_auth_routes.py::test_login_unknown_user
0.01s call     tests/test_core_models.py::test_case_creation_full
0.01s call     tests/test_auth_routes.py::test_login_form_renders
0.01s call     tests/test_models.py::test_case_formatted_deadline_and_overdue
0.01s call     tests/test_core_models.py::test_case_defaults
0.00s call     tests/test_rbac.py::test_protected_routes_require_login
0.00s call     tests/test_paths_cases.py::test_ensure_case_folder_creates
0.00s call     tests/test_investigations.py::test_creation_requires_mandatory_fields
0.00s call     tests/test_paths_investigations.py::test_ensure_investigation_folder_creates
0.00s setup    tests/test_basic.py::test_sanity
0.00s call     tests/test_investigation_forms.py::test_investigation_form_with_identifier_valid
0.00s call     tests/test_investigation_forms.py::test_investigation_form_requires_identifier
0.00s setup    tests/test_app_loads.py::test_app_starts
0.00s call     tests/test_investigations.py::test_creation_requires_identifier
0.00s call     tests/test_paths_investigations.py::test_config_override_investigation_root
0.00s setup    tests/test_email_utils.py::test_send_email_handles_error
0.00s call     tests/test_paths_investigations.py::test_default_investigation_root
0.00s setup    tests/test_sample.py::test_simple_math
0.00s call     tests/test_paths_cases.py::test_default_case_root
0.00s setup    tests/test_investigation_forms.py::test_fmt_date_formats_date
0.00s teardown tests/test_email_utils.py::test_send_email_handles_error
0.00s teardown tests/test_basic.py::test_sanity
0.00s call     tests/test_time_utils.py::test_localtime_filter
0.00s teardown tests/test_app_loads.py::test_app_starts
0.00s call     tests/test_basic.py::test_sanity
0.00s teardown tests/test_sample.py::test_simple_math
0.00s teardown tests/test_investigation_forms.py::test_fmt_date_formats_date
0.00s call     tests/test_investigation_forms.py::test_fmt_date_formats_date
0.00s call     tests/test_sample.py::test_simple_math
================ 108 passed, 313 warnings in 86.22s (0:01:26) =================
